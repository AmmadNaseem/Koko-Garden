<template>
  <div class="p-3" style="background-color: #fff;">
    <h4 class="text-center my-3">üèÜ Leaderboard</h4>
    <table class="table table-hover">
      <thead>
        <tr>
          <td scope="col">RANK</td>
          <td scope="col">SCHOOL NAME</td>
          <td scope="col">TREES PLANTED</td>
        </tr>
      </thead>
      <tbody>
        <tr v-for="(score, index) in rankingOfLeaderBoard" :key="score.id">
          <th scope="row logoTrees">{{ index + 1 }}</th>
          <td>
            {{ score.name }}
            <template v-if="index === 0">
              <svg
                width="24"
                height="24"
                viewBox="0 0 16 16"
                fill="none"
                class="ml-2"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0)">
                  <path
                    d="M4.84405 11.0973L4.20973 11.1282L2.97992 14.6615C2.94073 14.7741 3.03192 14.8892 3.15045 14.8767L4.8743 14.6962C4.92245 14.6912 4.97033 14.7078 5.00495 14.7417L6.24417 15.9535C6.32936 16.0368 6.4723 16.0032 6.51145 15.8907L7.7493 12.3343L7.3843 11.9801L4.84405 11.0973Z"
                    fill="#FF4755"
                  ></path>
                  <path
                    d="M7.74951 12.3343L7.99963 11.6157L4.45934 10.4118L4.20996 11.1283C5.21527 11.8456 6.43251 12.2847 7.74951 12.3343V12.3343Z"
                    fill="#FC2B3A"
                  ></path>
                  <path
                    d="M11.1542 11.0973L11.7886 11.1282L13.0184 14.6615C13.0576 14.7741 12.9664 14.8892 12.8478 14.8767L11.124 14.6962C11.0758 14.6912 11.028 14.7078 10.9934 14.7417L9.75415 15.9535C9.66896 16.0368 9.52602 16.0032 9.48687 15.8907L8.24902 12.3343L8.61402 11.9801L11.1542 11.0973Z"
                    fill="#FF4755"
                  ></path>
                  <path
                    d="M8.25012 12.3343L8 11.6157L11.5403 10.4118L11.7897 11.1283C10.7844 11.8456 9.56712 12.2847 8.25012 12.3343Z"
                    fill="#FC2B3A"
                  ></path>
                  <path
                    d="M7.99914 11.2536C2.19126 11.2536 2.1937 5.61209 2.19851 5.51512C2.35098 2.44356 4.8897 0 7.99914 0C11.1086 0 13.6473 2.44356 13.7998 5.51516C13.8046 5.61213 13.807 11.2536 7.99914 11.2536Z"
                    fill="#FFE27A"
                  ></path>
                  <path
                    d="M7.99928 11.0303C4.88984 11.0303 2.35122 8.58674 2.19872 5.51514C2.19391 5.61211 2.19141 5.7097 2.19141 5.80786C2.19141 9.01546 4.79169 11.6157 7.99928 11.6157C11.2069 11.6157 13.8072 9.01546 13.8072 5.80786C13.8072 5.70967 13.8047 5.61211 13.7998 5.51514C13.6473 8.58674 11.1087 11.0303 7.99928 11.0303Z"
                    fill="#F9CF58"
                  ></path>
                  <path
                    d="M8.00015 10.004C3.434 10.004 3.42787 5.5139 3.434 5.41709C3.58497 3.02659 5.57159 1.13446 8.00015 1.13446C10.4287 1.13446 12.4153 3.02659 12.5663 5.41709C12.5724 5.51387 12.5663 10.004 8.00015 10.004V10.004Z"
                    fill="#FFBA57"
                  ></path>
                  <path
                    d="M7.9992 9.79781C5.57067 9.79781 3.58439 7.90561 3.43342 5.51514C3.4273 5.61195 3.42383 5.70951 3.42383 5.80786C3.42383 8.33477 5.4723 10.3832 7.9992 10.3832C10.5261 10.3832 12.5746 8.33477 12.5746 5.80786C12.5746 5.70948 12.5711 5.61195 12.565 5.51514C12.414 7.90561 10.4277 9.79781 7.9992 9.79781Z"
                    fill="#FFAC3E"
                  ></path>
                  <path
                    d="M8.2606 8.52559C7.94294 8.52559 7.68541 8.26809 7.68541 7.9504V7.64618V4.72693C7.68541 4.72693 7.34125 5.07209 6.92946 4.86499C6.6084 4.70353 6.6084 4.28793 6.6084 4.28793L7.31756 3.09087C7.42112 2.91606 7.60925 2.80884 7.81244 2.80884H8.2606C8.57826 2.80884 8.83579 3.06634 8.83579 3.38403V7.64618V7.9504C8.83579 8.26809 8.57826 8.52559 8.2606 8.52559Z"
                    fill="#FFE27A"
                  ></path>
                  <path
                    d="M7.60663 4.27501C7.45397 4.53273 7.12938 4.64448 6.85866 4.5162C6.7491 4.46429 6.66463 4.38363 6.60848 4.28838C6.44876 4.55857 6.53523 4.90616 6.80116 5.07038C7.07541 5.23975 7.44188 5.13863 7.60613 4.86129L7.68569 4.72694V4.2966C7.68569 4.25342 7.62866 4.23782 7.60663 4.27501V4.27501Z"
                    fill="#F9CF58"
                  ></path>
                  <path
                    d="M8.26073 8.22142C7.94308 8.22142 7.68555 7.96392 7.68555 7.64624V8.2317C7.68555 8.54938 7.94308 8.80688 8.26073 8.80688C8.57839 8.80688 8.83592 8.54938 8.83592 8.2317V7.64624C8.83592 7.96392 8.57839 8.22142 8.26073 8.22142Z"
                    fill="#F9CF58"
                  ></path>
                </g>
                <defs>
                  <clipPath id="clip0">
                    <rect width="16" height="16" fill="white"></rect>
                  </clipPath>
                </defs>
              </svg>
            </template>
          </td>

          <td class="text-end">
            {{ score.total_trees
            }}<span class="mx-2 logoTrees"><i class="fas fa-tree"></i></span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
import useKokoTrees from "@/composables/api";
import { onMounted, computed } from "vue";

const { leaderBoardScore, getLeaderBoardScore } = useKokoTrees();

onMounted(getLeaderBoardScore);

const rankingOfLeaderBoard = computed(() => {
  return leaderBoardScore.value;
});
</script>



<style>
.logoTrees {
  color: #42b983;
}
</style>